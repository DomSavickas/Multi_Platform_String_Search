@page "/resources"
@using Syncfusion.Blazor.CircularGauge

<h1>Resources</h1>
<p style="height:35px"></p>
<SemiCircularGauge Label=@CPUtype GaugeStartAngle=270 GaugeEndAngle=90 PointerValue="@CPUusage" GaugeRadius="100%" GaugeCenterX="50%" GaugeCenterY="50%" GaugeMoveToCenter=false HideLabelCheck=true />

@code {
    private string currentDevice;
    private double CPUusage;
    private string CPUtype;
    private string gHeight = "250px";
    private string gWidth = "250px";

    [Inject]
    private CpuInfoService CpuInfoService { get; set; }

    protected override void OnInitialized()
    {
        CPUtype = CpuInfoService.CPUinfo();
        CPUusage = Convert.ToDouble(CpuInfoService.CPUusage());
        PrintIdiom();
    }

    private void PrintIdiom()
    {
        if (DeviceInfo.Current.Idiom == DeviceIdiom.Desktop)
            currentDevice = "The current device is a desktop";
        else if (DeviceInfo.Current.Idiom == DeviceIdiom.Phone)
            currentDevice = "The current device is a phone";
        else if (DeviceInfo.Current.Idiom == DeviceIdiom.Tablet)
            currentDevice = "The current device is a Tablet";
    }
}
